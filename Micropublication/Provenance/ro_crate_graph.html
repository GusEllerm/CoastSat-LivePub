<html>
    <head>
        <meta charset="utf-8">
        
            <script src="lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 800px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    </head>


    <body>

    <div style="display: flex;">
      <div id="legend" style="flex: 1; min-width: 200px; max-width: 300px; padding: 10px; background: #f0f0f0;">
        <b>Filter node types:</b><br>
    <input type="checkbox" id="CreativeWork" checked onchange="toggleGroup('CreativeWork')"> <label for="CreativeWork">CreativeWork</label><br><input type="checkbox" id="Dataset" checked onchange="toggleGroup('Dataset')"> <label for="Dataset">Dataset</label><br><input type="checkbox" id="File+SoftwareSourceCode" checked onchange="toggleGroup('File+SoftwareSourceCode')"> <label for="File+SoftwareSourceCode">File+SoftwareSourceCode</label><br><input type="checkbox" id="File+SoftwareSourceCode+ComputationalWorkflow+HowTo" checked onchange="toggleGroup('File+SoftwareSourceCode+ComputationalWorkflow+HowTo')"> <label for="File+SoftwareSourceCode+ComputationalWorkflow+HowTo">File+SoftwareSourceCode+ComputationalWorkflow+HowTo</label><br><input type="checkbox" id="FormalParameter" checked onchange="toggleGroup('FormalParameter')"> <label for="FormalParameter">FormalParameter</label><br><input type="checkbox" id="HowToStep" checked onchange="toggleGroup('HowToStep')"> <label for="HowToStep">HowToStep</label><br><input type="checkbox" id="SoftwareApplication" checked onchange="toggleGroup('SoftwareApplication')"> <label for="SoftwareApplication">SoftwareApplication</label><br>
      </div>
      <div id="code-viewer" style="flex: 1; float: right; min-width: 300px; max-width: 400px; padding: 10px; background: #f9f9f9; height: 300px; overflow: auto; border-left: 1px solid #ccc;">
        <b>Selected Source Code:</b>
        <pre><code id="code-content" style="white-space: pre-wrap;"></code></pre>
      </div>
    </div>
    
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"group": "Dataset", "id": "./", "label": "Dataset", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"./\",\n  \"@type\": \"Dataset\",\n  \"conformsTo\": [\n    {\n      \"@id\": \"https://w3id.org/ro/wfrun/process/0.1\"\n    },\n    {\n      \"@id\": \"https://w3id.org/ro/wfrun/workflow/0.1\"\n    },\n    {\n      \"@id\": \"https://w3id.org/ro/wfrun/provenance/0.5\"\n    },\n    {\n      \"@id\": \"https://w3id.org/workflowhub/workflow-ro-crate/1.0\"\n    }\n  ],\n  \"datePublished\": \"2025-06-13T00:25:45+00:00\",\n  \"hasPart\": [\n    {\n      \"@id\": \"linear_models.ipynb\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_1.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_2.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_3.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_4.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_5.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_6.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_7.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_8.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_9.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_10.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_11.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_12.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_13.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_14.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_15.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_16.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_17.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_18.py\"\n    },\n    {\n      \"@id\": \"code_blocks/cell_19.py\"\n    }\n  ],\n  \"mainEntity\": {\n    \"@id\": \"linear_models.ipynb\"\n  }\n}\u003c/pre\u003e"}, {"group": "Thing", "id": "https://w3id.org/ro/wfrun/process/0.1", "label": "https://w3id.org/ro/wfrun/process/0.1", "shape": "dot", "title": "\u003cpre\u003e{}\u003c/pre\u003e"}, {"group": "Thing", "id": "https://w3id.org/ro/wfrun/workflow/0.1", "label": "https://w3id.org/ro/wfrun/workflow/0.1", "shape": "dot", "title": "\u003cpre\u003e{}\u003c/pre\u003e"}, {"group": "Thing", "id": "https://w3id.org/ro/wfrun/provenance/0.5", "label": "https://w3id.org/ro/wfrun/provenance/0.5", "shape": "dot", "title": "\u003cpre\u003e{}\u003c/pre\u003e"}, {"group": "Thing", "id": "https://w3id.org/workflowhub/workflow-ro-crate/1.0", "label": "https://w3id.org/workflowhub/workflow-ro-crate/1.0", "shape": "dot", "title": "\u003cpre\u003e{}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode+ComputationalWorkflow+HowTo", "id": "linear_models.ipynb", "label": ["File", "SoftwareSourceCode", "ComputationalWorkflow", "HowTo"], "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"linear_models.ipynb\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\",\n    \"ComputationalWorkflow\",\n    \"HowTo\"\n  ],\n  \"input\": [\n    {\n      \"@id\": \"#fp-shoreline_data_run6___time_series_tidally_corrected_csv\"\n    },\n    {\n      \"@id\": \"#fp-data_sar__transect_time_series_csv\"\n    },\n    {\n      \"@id\": \"#fp-data_sar0939_transect_time_series_csv\"\n    },\n    {\n      \"@id\": \"#fp-transects_extended_geojson\"\n    },\n    {\n      \"@id\": \"#fp-data___transect_time_series_tidally_corrected_csv\"\n    }\n  ],\n  \"output\": [\n    {\n      \"@id\": \"#fp-transects_extended_geojson\"\n    }\n  ],\n  \"step\": [\n    {\n      \"@id\": \"#step-1\"\n    },\n    {\n      \"@id\": \"#step-2\"\n    },\n    {\n      \"@id\": \"#step-3\"\n    },\n    {\n      \"@id\": \"#step-4\"\n    },\n    {\n      \"@id\": \"#step-5\"\n    },\n    {\n      \"@id\": \"#step-6\"\n    },\n    {\n      \"@id\": \"#step-7\"\n    },\n    {\n      \"@id\": \"#step-8\"\n    },\n    {\n      \"@id\": \"#step-9\"\n    },\n    {\n      \"@id\": \"#step-10\"\n    },\n    {\n      \"@id\": \"#step-11\"\n    },\n    {\n      \"@id\": \"#step-12\"\n    },\n    {\n      \"@id\": \"#step-13\"\n    },\n    {\n      \"@id\": \"#step-14\"\n    },\n    {\n      \"@id\": \"#step-15\"\n    },\n    {\n      \"@id\": \"#step-16\"\n    },\n    {\n      \"@id\": \"#step-17\"\n    },\n    {\n      \"@id\": \"#step-18\"\n    },\n    {\n      \"@id\": \"#step-19\"\n    }\n  ]\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_1.py", "label": "Code Cell 1", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_1.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 1\",\n  \"sourceCode\": \"%reload_ext autotime\\nimport geopandas as gpd\\nimport pandas as pd\\nfrom glob import glob\\nfrom sklearn.linear_model import LinearRegression\\nfrom tqdm.auto import tqdm\\nfrom tqdm.contrib.concurrent import process_map\\nfrom sklearn.metrics import mean_squared_error, r2_score, mean_absolute_error, root_mean_squared_error\\nfrom coastsat import SDS_transects\\npd.options.plotting.backend = \\\"plotly\\\"\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_2.py", "label": "Code Cell 2", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_2.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"input\": [\n    {\n      \"@id\": \"#fp-transects_extended_geojson\"\n    }\n  ],\n  \"name\": \"Code Cell 2\",\n  \"sourceCode\": \"# Transects, origin is landward. Has beach_slope\\ntransects = gpd.read_file(\\\"transects_extended.geojson\\\")\\ntransects.set_index(\\\"id\\\", inplace=True)\\ntransects\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_3.py", "label": "Code Cell 3", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_3.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"input\": [\n    {\n      \"@id\": \"#fp-shoreline_data_run6___time_series_tidally_corrected_csv\"\n    }\n  ],\n  \"name\": \"Code Cell 3\",\n  \"sourceCode\": \"vos_files = pd.Series(\\n    sorted(glob(\\\"shoreline_data_run6/*/time_series_tidally_corrected.csv\\\"))\\n)\\nvos_files = vos_files[~vos_files.str.contains(\\\"nzd\\\")]\\nvos_files\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_4.py", "label": "Code Cell 4", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_4.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"input\": [\n    {\n      \"@id\": \"#fp-data___transect_time_series_tidally_corrected_csv\"\n    }\n  ],\n  \"name\": \"Code Cell 4\",\n  \"sourceCode\": \"my_nz_files = pd.Series(\\n    sorted(glob(\\\"data/*/transect_time_series_tidally_corrected.csv\\\"))\\n)\\nmy_nz_files\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_5.py", "label": "Code Cell 5", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_5.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"input\": [\n    {\n      \"@id\": \"#fp-data_sar__transect_time_series_csv\"\n    }\n  ],\n  \"name\": \"Code Cell 5\",\n  \"sourceCode\": \"sar_files = pd.Series(sorted(glob(\\\"data/sar*/transect_time_series.csv\\\")))\\nsar_files\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_6.py", "label": "Code Cell 6", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_6.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 6\",\n  \"sourceCode\": \"files = pd.concat([vos_files, my_nz_files, sar_files])\\nfiles\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_7.py", "label": "Code Cell 7", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_7.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 7\",\n  \"sourceCode\": \"f = files[files.str.contains(\\\"sar1026\\\")].iloc[0]\\n# despiked_filename = f.replace(\\\".csv\\\", \\\"_tidally_corrected.csv\\\")\\ndf = pd.read_csv(f)\\ndf.dates = pd.to_datetime(df.dates)\\ndf.set_index(\\\"dates\\\", inplace=True)\\ndisplay(df.columns)\\nimport matplotlib.pyplot as plt\\n\\ntransect_id = \\\"sar1026-0007\\\"\\n\\n\\ndef custom_mean(window):\\n    return window[window.between(window.quantile(0.25), window.quantile(0.75))].mean()\\n\\n\\npd.DataFrame(\\n    {\\n        \\\"raw\\\": df[transect_id],\\n        \\\"rolling 90d mean\\\": df[transect_id].rolling(\\\"90d\\\", min_periods=1).mean(),\\n        \\\"rolling 180d mean\\\": df[transect_id].rolling(\\\"180d\\\", min_periods=1).mean(),\\n        \\\"rolling 90d custom mean\\\": df[transect_id]\\n        .rolling(\\\"90d\\\", min_periods=1)\\n        .apply(custom_mean),\\n        \\\"rolling 180d custom mean\\\": df[transect_id]\\n        .rolling(\\\"180d\\\", min_periods=1)\\n        .apply(custom_mean),\\n        # \\\"rolling 365d\\\": df[transect_id].rolling(\\\"365d\\\", min_periods=1).mean(),\\n    },\\n    index=df.index,\\n).plot()\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_8.py", "label": "Code Cell 8", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_8.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"input\": [\n    {\n      \"@id\": \"#fp-data_sar0939_transect_time_series_csv\"\n    }\n  ],\n  \"name\": \"Code Cell 8\",\n  \"sourceCode\": \"df = pd.read_csv(\\\"data/sar0939/transect_time_series.csv\\\")\\ndf.dates = pd.to_datetime(df.dates)\\ndf.set_index(\\\"dates\\\", inplace=True)\\n(df[\\\"sar0939-0000\\\"] - 93).plot()\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_9.py", "label": "Code Cell 9", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_9.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 9\",\n  \"sourceCode\": \"def despike(chainage, threshold=40):\\n    chainage = chainage.dropna()\\n    chainage, dates = SDS_transects.identify_outliers(\\n        chainage.tolist(), chainage.index.tolist(), threshold\\n    )\\n    return pd.Series(chainage, index=dates)\\n\\n\\ndef get_trends(f):\\n    df = pd.read_csv(f)\\n    try:\\n        df.dates = pd.to_datetime(df.dates)\\n    except:\\n        print(f)\\n    if \\\"sar\\\" in f:\\n        smoothed_filename = f.replace(\\\".csv\\\", \\\"_smoothed.csv\\\")\\n        try:\\n            raise\\n            df = pd.read_csv(smoothed_filename)\\n            df.dates = pd.to_datetime(df.dates)\\n        except:\\n            df.dates = pd.to_datetime(df.dates)\\n            df.set_index(\\\"dates\\\", inplace=True)\\n            satname = df.satname\\n            df = df.drop(columns=\\\"satname\\\").apply(despike, axis=0)\\n            df[\\\"satname\\\"] = satname\\n            df.reset_index(names=\\\"dates\\\").to_csv(\\n                f.replace(\\\".csv\\\", \\\"_despiked.csv\\\"), index=False\\n            )\\n            for transect_id in df.drop(columns=\\\"satname\\\").columns:\\n                df[transect_id] = df[transect_id].rolling(\\\"180d\\\", min_periods=1).mean()\\n            df.reset_index(names=\\\"dates\\\", inplace=True)\\n            df.to_csv(f.replace(\\\".csv\\\", \\\"_smoothed.csv\\\"), index=False)\\n    df.index = (df.dates - df.dates.min()).dt.days / 365.25\\n    df.drop(columns=[\\\"dates\\\", \\\"satname\\\", \\\"Unnamed: 0\\\"], inplace=True, errors=\\\"ignore\\\")\\n    trends = []\\n    for transect_id in df.columns:\\n        sub_df = df[transect_id].dropna()\\n        if not len(sub_df):\\n            continue\\n        x = sub_df.index.to_numpy().reshape(-1, 1)\\n        y = sub_df\\n        linear_model = LinearRegression().fit(x, y)\\n        pred = linear_model.predict(x)\\n        trends.append(\\n            {\\n                \\\"transect_id\\\": transect_id,\\n                \\\"trend\\\": linear_model.coef_[0],\\n                \\\"intercept\\\": linear_model.intercept_,\\n                \\\"n_points\\\": len(df[transect_id]),\\n                \\\"n_points_nonan\\\": len(sub_df),\\n                \\\"r2_score\\\": r2_score(y, pred),\\n                \\\"mae\\\": mean_absolute_error(y, pred),\\n                \\\"mse\\\": mean_squared_error(y, pred),\\n                \\\"rmse\\\": root_mean_squared_error(y, pred),\\n            }\\n        )\\n    return pd.DataFrame(trends)\\n\\n\\n# trends = get_trends(sar_files.iloc[-1]).set_index(\\\"transect_id\\\")\\ntrends = pd.concat(process_map(get_trends, files)).set_index(\\\"transect_id\\\")\\nlen(trends)\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_10.py", "label": "Code Cell 10", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_10.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 10\",\n  \"sourceCode\": \"trends[trends.n_points_nonan \u003e 10].sort_values(\\\"r2_score\\\")\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_11.py", "label": "Code Cell 11", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_11.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 11\",\n  \"sourceCode\": \"trends[trends.index.str.startswith(\\\"sar\\\")].describe()\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_12.py", "label": "Code Cell 12", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_12.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 12\",\n  \"sourceCode\": \"trends.describe()\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_13.py", "label": "Code Cell 13", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_13.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 13\",\n  \"sourceCode\": \"(transects.trend - trends.trend).describe()\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_14.py", "label": "Code Cell 14", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_14.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 14\",\n  \"sourceCode\": \"transects.update(trends.drop_duplicates())\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_15.py", "label": "Code Cell 15", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_15.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 15\",\n  \"sourceCode\": \"transects\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_16.py", "label": "Code Cell 16", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_16.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 16\",\n  \"sourceCode\": \"trends.columns, transects.columns, trends.columns.isin(transects.columns)\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_17.py", "label": "Code Cell 17", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_17.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 17\",\n  \"sourceCode\": \"transects = transects.join(trends.loc[:, ~trends.columns.isin(transects.columns)])\\ntransects\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_18.py", "label": "Code Cell 18", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_18.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 18\",\n  \"sourceCode\": \"transects[transects.site_id.str.startswith(\\\"sar\\\") \u0026 ~transects.trend.isna()]\"\n}\u003c/pre\u003e"}, {"group": "File+SoftwareSourceCode", "id": "code_blocks/cell_19.py", "label": "Code Cell 19", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"code_blocks/cell_19.py\",\n  \"@type\": [\n    \"File\",\n    \"SoftwareSourceCode\"\n  ],\n  \"name\": \"Code Cell 19\",\n  \"output\": [\n    {\n      \"@id\": \"#fp-transects_extended_geojson\"\n    }\n  ],\n  \"sourceCode\": \"transects.drop_duplicates().to_file(\\\"transects_extended.geojson\\\", driver=\\\"GeoJSON\\\")\"\n}\u003c/pre\u003e"}, {"group": "CreativeWork", "id": "ro-crate-metadata.json", "label": "CreativeWork", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"ro-crate-metadata.json\",\n  \"@type\": \"CreativeWork\",\n  \"about\": {\n    \"@id\": \"./\"\n  },\n  \"conformsTo\": {\n    \"@id\": \"https://w3id.org/ro/crate/1.1\"\n  }\n}\u003c/pre\u003e"}, {"group": "Thing", "id": "https://w3id.org/ro/crate/1.1", "label": "https://w3id.org/ro/crate/1.1", "shape": "dot", "title": "\u003cpre\u003e{}\u003c/pre\u003e"}, {"group": "FormalParameter", "id": "#fp-shoreline_data_run6___time_series_tidally_corrected_csv", "label": "time_series_tidally_corrected.csv", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#fp-shoreline_data_run6___time_series_tidally_corrected_csv\",\n  \"@type\": \"FormalParameter\",\n  \"name\": \"time_series_tidally_corrected.csv\"\n}\u003c/pre\u003e"}, {"group": "FormalParameter", "id": "#fp-data_sar__transect_time_series_csv", "label": "transect_time_series.csv", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#fp-data_sar__transect_time_series_csv\",\n  \"@type\": \"FormalParameter\",\n  \"name\": \"transect_time_series.csv\"\n}\u003c/pre\u003e"}, {"group": "FormalParameter", "id": "#fp-data_sar0939_transect_time_series_csv", "label": "transect_time_series.csv", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#fp-data_sar0939_transect_time_series_csv\",\n  \"@type\": \"FormalParameter\",\n  \"name\": \"transect_time_series.csv\"\n}\u003c/pre\u003e"}, {"group": "FormalParameter", "id": "#fp-transects_extended_geojson", "label": "transects_extended.geojson", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#fp-transects_extended_geojson\",\n  \"@type\": \"FormalParameter\",\n  \"name\": \"transects_extended.geojson\"\n}\u003c/pre\u003e"}, {"group": "FormalParameter", "id": "#fp-data___transect_time_series_tidally_corrected_csv", "label": "transect_time_series_tidally_corrected.csv", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#fp-data___transect_time_series_tidally_corrected_csv\",\n  \"@type\": \"FormalParameter\",\n  \"name\": \"transect_time_series_tidally_corrected.csv\"\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-1", "label": "Code cell 1", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-1\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 1\",\n  \"position\": 1,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_1.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-2", "label": "Code cell 2", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-2\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 2\",\n  \"position\": 2,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_2.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-3", "label": "Code cell 3", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-3\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 3\",\n  \"position\": 3,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_3.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-4", "label": "Code cell 4", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-4\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 4\",\n  \"position\": 4,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_4.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-5", "label": "Code cell 5", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-5\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 5\",\n  \"position\": 5,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_5.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-6", "label": "Code cell 6", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-6\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 6\",\n  \"position\": 6,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_6.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-7", "label": "Code cell 7", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-7\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 7\",\n  \"position\": 7,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_7.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-8", "label": "Code cell 8", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-8\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 8\",\n  \"position\": 8,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_8.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-9", "label": "Code cell 9", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-9\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 9\",\n  \"position\": 9,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_9.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-10", "label": "Code cell 10", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-10\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 10\",\n  \"position\": 10,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_10.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-11", "label": "Code cell 11", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-11\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 11\",\n  \"position\": 11,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_11.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-12", "label": "Code cell 12", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-12\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 12\",\n  \"position\": 12,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_12.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-13", "label": "Code cell 13", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-13\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 13\",\n  \"position\": 13,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_13.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-14", "label": "Code cell 14", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-14\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 14\",\n  \"position\": 14,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_14.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-15", "label": "Code cell 15", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-15\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 15\",\n  \"position\": 15,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_15.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-16", "label": "Code cell 16", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-16\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 16\",\n  \"position\": 16,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_16.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-17", "label": "Code cell 17", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-17\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 17\",\n  \"position\": 17,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_17.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-18", "label": "Code cell 18", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-18\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 18\",\n  \"position\": 18,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_18.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "HowToStep", "id": "#step-19", "label": "Code cell 19", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#step-19\",\n  \"@type\": \"HowToStep\",\n  \"name\": \"Code cell 19\",\n  \"position\": 19,\n  \"tool\": {\n    \"@id\": \"#jupyter-kernel\"\n  },\n  \"workExample\": {\n    \"@id\": \"code_blocks/cell_19.py\"\n  }\n}\u003c/pre\u003e"}, {"group": "SoftwareApplication", "id": "#jupyter-kernel", "label": "Jupyter Notebook Kernel", "shape": "dot", "title": "\u003cpre\u003e{\n  \"@id\": \"#jupyter-kernel\",\n  \"@type\": \"SoftwareApplication\",\n  \"description\": \"Jupyter Notebook kernel for Python 3\",\n  \"identifier\": \"python3\",\n  \"input\": [\n    {\n      \"@id\": \"#fp-shoreline_data_run6___time_series_tidally_corrected_csv\"\n    },\n    {\n      \"@id\": \"#fp-data_sar__transect_time_series_csv\"\n    },\n    {\n      \"@id\": \"#fp-data_sar0939_transect_time_series_csv\"\n    },\n    {\n      \"@id\": \"#fp-transects_extended_geojson\"\n    },\n    {\n      \"@id\": \"#fp-data___transect_time_series_tidally_corrected_csv\"\n    }\n  ],\n  \"name\": \"Jupyter Notebook Kernel\",\n  \"output\": [\n    {\n      \"@id\": \"#fp-transects_extended_geojson\"\n    }\n  ],\n  \"programmingLanguage\": \"python3\",\n  \"softwareVersion\": \"3.10.12\",\n  \"version\": \"3.10.12\"\n}\u003c/pre\u003e"}]);
                  edges = new vis.DataSet([{"arrows": "to", "from": "./", "label": "conformsTo", "title": "conformsTo", "to": "https://w3id.org/ro/wfrun/process/0.1"}, {"arrows": "to", "from": "./", "label": "conformsTo", "title": "conformsTo", "to": "https://w3id.org/ro/wfrun/workflow/0.1"}, {"arrows": "to", "from": "./", "label": "conformsTo", "title": "conformsTo", "to": "https://w3id.org/ro/wfrun/provenance/0.5"}, {"arrows": "to", "from": "./", "label": "conformsTo", "title": "conformsTo", "to": "https://w3id.org/workflowhub/workflow-ro-crate/1.0"}, {"arrows": "to", "from": "./", "label": "mainEntity", "title": "mainEntity", "to": "linear_models.ipynb"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_1.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_2.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_3.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_4.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_5.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_6.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_7.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_8.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_9.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_10.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_11.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_12.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_13.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_14.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_15.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_16.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_17.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_18.py"}, {"arrows": "to", "from": "./", "label": "hasPart", "title": "hasPart", "to": "code_blocks/cell_19.py"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "input", "title": "input", "to": "#fp-shoreline_data_run6___time_series_tidally_corrected_csv"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "input", "title": "input", "to": "#fp-data_sar__transect_time_series_csv"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "input", "title": "input", "to": "#fp-data_sar0939_transect_time_series_csv"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "output", "title": "output", "to": "#fp-transects_extended_geojson"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "input", "title": "input", "to": "#fp-data___transect_time_series_tidally_corrected_csv"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-1"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-2"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-3"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-4"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-5"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-6"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-7"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-8"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-9"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-10"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-11"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-12"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-13"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-14"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-15"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-16"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-17"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-18"}, {"arrows": "to", "from": "linear_models.ipynb", "label": "step", "title": "step", "to": "#step-19"}, {"arrows": "to", "from": "code_blocks/cell_2.py", "label": "input", "title": "input", "to": "#fp-transects_extended_geojson"}, {"arrows": "to", "from": "code_blocks/cell_3.py", "label": "input", "title": "input", "to": "#fp-shoreline_data_run6___time_series_tidally_corrected_csv"}, {"arrows": "to", "from": "code_blocks/cell_4.py", "label": "input", "title": "input", "to": "#fp-data___transect_time_series_tidally_corrected_csv"}, {"arrows": "to", "from": "code_blocks/cell_5.py", "label": "input", "title": "input", "to": "#fp-data_sar__transect_time_series_csv"}, {"arrows": "to", "from": "code_blocks/cell_8.py", "label": "input", "title": "input", "to": "#fp-data_sar0939_transect_time_series_csv"}, {"arrows": "to", "from": "code_blocks/cell_19.py", "label": "output", "title": "output", "to": "#fp-transects_extended_geojson"}, {"arrows": "to", "from": "ro-crate-metadata.json", "label": "about", "title": "about", "to": "./"}, {"arrows": "to", "from": "ro-crate-metadata.json", "label": "conformsTo", "title": "conformsTo", "to": "https://w3id.org/ro/crate/1.1"}, {"arrows": "to", "from": "#step-1", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-1", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_1.py"}, {"arrows": "to", "from": "#step-2", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-2", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_2.py"}, {"arrows": "to", "from": "#step-3", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-3", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_3.py"}, {"arrows": "to", "from": "#step-4", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-4", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_4.py"}, {"arrows": "to", "from": "#step-5", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-5", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_5.py"}, {"arrows": "to", "from": "#step-6", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-6", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_6.py"}, {"arrows": "to", "from": "#step-7", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-7", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_7.py"}, {"arrows": "to", "from": "#step-8", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-8", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_8.py"}, {"arrows": "to", "from": "#step-9", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-9", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_9.py"}, {"arrows": "to", "from": "#step-10", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-10", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_10.py"}, {"arrows": "to", "from": "#step-11", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-11", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_11.py"}, {"arrows": "to", "from": "#step-12", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-12", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_12.py"}, {"arrows": "to", "from": "#step-13", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-13", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_13.py"}, {"arrows": "to", "from": "#step-14", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-14", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_14.py"}, {"arrows": "to", "from": "#step-15", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-15", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_15.py"}, {"arrows": "to", "from": "#step-16", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-16", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_16.py"}, {"arrows": "to", "from": "#step-17", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-17", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_17.py"}, {"arrows": "to", "from": "#step-18", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-18", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_18.py"}, {"arrows": "to", "from": "#step-19", "label": "tool", "title": "tool", "to": "#jupyter-kernel"}, {"arrows": "to", "from": "#step-19", "label": "workExample", "title": "workExample", "to": "code_blocks/cell_19.py"}, {"arrows": "to", "from": "#jupyter-kernel", "label": "input", "title": "input", "to": "#fp-shoreline_data_run6___time_series_tidally_corrected_csv"}, {"arrows": "to", "from": "#jupyter-kernel", "label": "input", "title": "input", "to": "#fp-data_sar__transect_time_series_csv"}, {"arrows": "to", "from": "#jupyter-kernel", "label": "input", "title": "input", "to": "#fp-data_sar0939_transect_time_series_csv"}, {"arrows": "to", "from": "#jupyter-kernel", "label": "output", "title": "output", "to": "#fp-transects_extended_geojson"}, {"arrows": "to", "from": "#jupyter-kernel", "label": "input", "title": "input", "to": "#fp-data___transect_time_series_tidally_corrected_csv"}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"interaction": {"navigationButtons": true, "keyboard": true, "zoomView": true, "dragView": true}, "physics": {"forceAtlas2Based": {"gravitationalConstant": -50, "centralGravity": 0.005, "springLength": 100, "springConstant": 0.08}, "solver": "forceAtlas2Based", "timestep": 0.35, "stabilization": {"iterations": 150}}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    
    <script type="text/javascript">
      function toggleGroup(group) {
        var checkbox = document.getElementById(group);
        nodes.get().forEach(function (node) {
          if (node.group === group) {
            nodes.update({ id: node.id, hidden: !checkbox.checked });
          }
        });
      }

      function displaySource(nodeId) {
        const src = nodeSources[nodeId];
        if (src) {
          document.getElementById("code-content").textContent = src;
        } else {
          document.getElementById("code-content").textContent = "";
        }
      }
    </script>
    

    <script type="text/javascript">
      var nodeSources = {"code_blocks/cell_1.py": "%reload_ext autotime\nimport geopandas as gpd\nimport pandas as pd\nfrom glob import glob\nfrom sklearn.linear_model import LinearRegression\nfrom tqdm.auto import tqdm\nfrom tqdm.contrib.concurrent import process_map\nfrom sklearn.metrics import mean_squared_error, r2_score, mean_absolute_error, root_mean_squared_error\nfrom coastsat import SDS_transects\npd.options.plotting.backend = \"plotly\"", "code_blocks/cell_2.py": "# Transects, origin is landward. Has beach_slope\ntransects = gpd.read_file(\"transects_extended.geojson\")\ntransects.set_index(\"id\", inplace=True)\ntransects", "code_blocks/cell_3.py": "vos_files = pd.Series(\n    sorted(glob(\"shoreline_data_run6/*/time_series_tidally_corrected.csv\"))\n)\nvos_files = vos_files[~vos_files.str.contains(\"nzd\")]\nvos_files", "code_blocks/cell_4.py": "my_nz_files = pd.Series(\n    sorted(glob(\"data/*/transect_time_series_tidally_corrected.csv\"))\n)\nmy_nz_files", "code_blocks/cell_5.py": "sar_files = pd.Series(sorted(glob(\"data/sar*/transect_time_series.csv\")))\nsar_files", "code_blocks/cell_6.py": "files = pd.concat([vos_files, my_nz_files, sar_files])\nfiles", "code_blocks/cell_7.py": "f = files[files.str.contains(\"sar1026\")].iloc[0]\n# despiked_filename = f.replace(\".csv\", \"_tidally_corrected.csv\")\ndf = pd.read_csv(f)\ndf.dates = pd.to_datetime(df.dates)\ndf.set_index(\"dates\", inplace=True)\ndisplay(df.columns)\nimport matplotlib.pyplot as plt\n\ntransect_id = \"sar1026-0007\"\n\n\ndef custom_mean(window):\n    return window[window.between(window.quantile(0.25), window.quantile(0.75))].mean()\n\n\npd.DataFrame(\n    {\n        \"raw\": df[transect_id],\n        \"rolling 90d mean\": df[transect_id].rolling(\"90d\", min_periods=1).mean(),\n        \"rolling 180d mean\": df[transect_id].rolling(\"180d\", min_periods=1).mean(),\n        \"rolling 90d custom mean\": df[transect_id]\n        .rolling(\"90d\", min_periods=1)\n        .apply(custom_mean),\n        \"rolling 180d custom mean\": df[transect_id]\n        .rolling(\"180d\", min_periods=1)\n        .apply(custom_mean),\n        # \"rolling 365d\": df[transect_id].rolling(\"365d\", min_periods=1).mean(),\n    },\n    index=df.index,\n).plot()", "code_blocks/cell_8.py": "df = pd.read_csv(\"data/sar0939/transect_time_series.csv\")\ndf.dates = pd.to_datetime(df.dates)\ndf.set_index(\"dates\", inplace=True)\n(df[\"sar0939-0000\"] - 93).plot()", "code_blocks/cell_9.py": "def despike(chainage, threshold=40):\n    chainage = chainage.dropna()\n    chainage, dates = SDS_transects.identify_outliers(\n        chainage.tolist(), chainage.index.tolist(), threshold\n    )\n    return pd.Series(chainage, index=dates)\n\n\ndef get_trends(f):\n    df = pd.read_csv(f)\n    try:\n        df.dates = pd.to_datetime(df.dates)\n    except:\n        print(f)\n    if \"sar\" in f:\n        smoothed_filename = f.replace(\".csv\", \"_smoothed.csv\")\n        try:\n            raise\n            df = pd.read_csv(smoothed_filename)\n            df.dates = pd.to_datetime(df.dates)\n        except:\n            df.dates = pd.to_datetime(df.dates)\n            df.set_index(\"dates\", inplace=True)\n            satname = df.satname\n            df = df.drop(columns=\"satname\").apply(despike, axis=0)\n            df[\"satname\"] = satname\n            df.reset_index(names=\"dates\").to_csv(\n                f.replace(\".csv\", \"_despiked.csv\"), index=False\n            )\n            for transect_id in df.drop(columns=\"satname\").columns:\n                df[transect_id] = df[transect_id].rolling(\"180d\", min_periods=1).mean()\n            df.reset_index(names=\"dates\", inplace=True)\n            df.to_csv(f.replace(\".csv\", \"_smoothed.csv\"), index=False)\n    df.index = (df.dates - df.dates.min()).dt.days / 365.25\n    df.drop(columns=[\"dates\", \"satname\", \"Unnamed: 0\"], inplace=True, errors=\"ignore\")\n    trends = []\n    for transect_id in df.columns:\n        sub_df = df[transect_id].dropna()\n        if not len(sub_df):\n            continue\n        x = sub_df.index.to_numpy().reshape(-1, 1)\n        y = sub_df\n        linear_model = LinearRegression().fit(x, y)\n        pred = linear_model.predict(x)\n        trends.append(\n            {\n                \"transect_id\": transect_id,\n                \"trend\": linear_model.coef_[0],\n                \"intercept\": linear_model.intercept_,\n                \"n_points\": len(df[transect_id]),\n                \"n_points_nonan\": len(sub_df),\n                \"r2_score\": r2_score(y, pred),\n                \"mae\": mean_absolute_error(y, pred),\n                \"mse\": mean_squared_error(y, pred),\n                \"rmse\": root_mean_squared_error(y, pred),\n            }\n        )\n    return pd.DataFrame(trends)\n\n\n# trends = get_trends(sar_files.iloc[-1]).set_index(\"transect_id\")\ntrends = pd.concat(process_map(get_trends, files)).set_index(\"transect_id\")\nlen(trends)", "code_blocks/cell_10.py": "trends[trends.n_points_nonan > 10].sort_values(\"r2_score\")", "code_blocks/cell_11.py": "trends[trends.index.str.startswith(\"sar\")].describe()", "code_blocks/cell_12.py": "trends.describe()", "code_blocks/cell_13.py": "(transects.trend - trends.trend).describe()", "code_blocks/cell_14.py": "transects.update(trends.drop_duplicates())", "code_blocks/cell_15.py": "transects", "code_blocks/cell_16.py": "trends.columns, transects.columns, trends.columns.isin(transects.columns)", "code_blocks/cell_17.py": "transects = transects.join(trends.loc[:, ~trends.columns.isin(transects.columns)])\ntransects", "code_blocks/cell_18.py": "transects[transects.site_id.str.startswith(\"sar\") & ~transects.trend.isna()]", "code_blocks/cell_19.py": "transects.drop_duplicates().to_file(\"transects_extended.geojson\", driver=\"GeoJSON\")"};
      network.on("click", function (params) {
        if (params.nodes.length > 0) {
          var nodeId = params.nodes[0];
          displaySource(nodeId);
        }
      });
    </script>
    
</body>
</html>